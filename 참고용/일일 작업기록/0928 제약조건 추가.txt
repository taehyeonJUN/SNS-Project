 ON DELETE CASCADE 조건 추가 (무결성 제약조건위하여)


ALTER TABLE post 
  DROP CONSTRAINT  FK_MEMBER_TO_POST;
  
  ALTER TABLE post 
  ADD CONSTRAINT FK_MEMBER_TO_POST FOREIGN KEY (post_id) REFERENCES member(mem_id) 
 ON DELETE CASCADE;
 
 commit;
 
 ALTER TABLE follow 
  DROP CONSTRAINT  FK_MEMBER_TO_FOLLOW2;
  
  ALTER TABLE follow 
  ADD CONSTRAINT FK_MEMBER_TO_FOLLOW2 FOREIGN KEY (FOLLOW_Y) REFERENCES member(mem_id) 
 ON DELETE CASCADE;
 
 
 ALTER TABLE RP 
  DROP CONSTRAINT  FK_MEMBER_TO_RP;
  
  ALTER TABLE RP 
  ADD CONSTRAINT FK_MEMBER_TO_RP FOREIGN KEY (RP_ID) REFERENCES member(mem_id) 
 ON DELETE CASCADE;
 
 
  ALTER TABLE RP 
  DROP CONSTRAINT  FK_POST_TO_RP;
  
  ALTER TABLE RP 
  ADD CONSTRAINT FK_POST_TO_RP FOREIGN KEY (RP_POST_NO) REFERENCES post(post_no) 
 ON DELETE CASCADE;
 
   ALTER TABLE RRP 
  DROP CONSTRAINT  FK_MEMBER_TO_RRP;
  
  ALTER TABLE RRP 
  ADD CONSTRAINT FK_MEMBER_TO_RRP FOREIGN KEY (RRP_ID) REFERENCES member(mem_id) 
 ON DELETE CASCADE;
 
   ALTER TABLE RRP 
  DROP CONSTRAINT  FK_RP_TO_RRP;
  
  ALTER TABLE RRP 
  ADD CONSTRAINT FK_RP_TO_RRP FOREIGN KEY (RRP_RPNO) REFERENCES post(post_no) 
 ON DELETE CASCADE;
 
 
 
 
    ALTER TABLE POST_LIKE 
  DROP CONSTRAINT  FK_MEMBER_TO_POST_LIKE;
  
  ALTER TABLE POST_LIKE 
  ADD CONSTRAINT FK_MEMBER_TO_POST_LIKE FOREIGN KEY (LIKE_ID) REFERENCES member(mem_id) 
 ON DELETE CASCADE;
 
   ALTER TABLE POST_LIKE 
  DROP CONSTRAINT  FK_POST_TO_POST_LIKE;
  
  ALTER TABLE POST_LIKE 
  ADD CONSTRAINT FK_POST_TO_POST_LIKE FOREIGN KEY (LIKE_POST_NO) REFERENCES post(post_no) 
 ON DELETE CASCADE;
 
 commit;
 
 
 
  ALTER TABLE photo 
  DROP CONSTRAINT  FK_POSTNO;
  
  ALTER TABLE photo 
  ADD CONSTRAINT FK_POSTNO FOREIGN KEY (PHO_POSTNO) REFERENCES post(post_no) 
 ON DELETE CASCADE;
 
 
 
 
 